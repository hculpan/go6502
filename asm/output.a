  .target "65C02"
  .format "bin"

  .org $0200

  jmp start

Screen .equ $8000

; Data
message:
  .textz "Hello, world!\r"

start:
  ldx #$00

start_loop:
  lda message,x
  beq start_end
  jsr output_char
  inx
  jmp start_loop

start_end:
  jmp start 

output_char:
  pha
output_char_loop:
  lda Screen
  bne output_char_loop
  pla
  sta Screen
  rts


; End of rom  
  .org $FFFC
  .word $0200
  .word $0000